= SuggestionField

`SuggestionField` allows searching for certain values according to a string entered by a user.

It can use any types of options: entities, strings, or enum values, and does not have action buttons. The list of options is loaded in background according to the logic defined by the application developer on the server side.

Componentâ€™s XML-name: `suggestionField`.

== Basics

Use `SuggestionField` if:

* Users need to select a single option.
* The number of options in the list of suggested values is too large to use xref:vcl/components/combo-box.adoc[ComboBox] xref:vcl/components/entity-combo-box.adoc[EntityComboBox].
* High performance is important with a large amount of data being uploaded.
* Users need searching functionality.

`SuggestionField` is an input text field with the additional functionality: a user enters a few characters, and if several matches have been found, all of them will be displayed in a drop-down list. `SuggestionField` refreshes the list of options on each entered symbol.

image::vcl/components/suggestion-field.gif[align="center"]

[[options]]
== Defining Options

You can specify a list of options either in the XML descriptor using the `query` nested element or programmatically in the controller using the `SearchExecutor` interface.

[[query]]
=== query

`query` is an optional element which enables defining a query for selecting suggested values.

[WARNING]
====
You can specify only the list of entity instances using the `query` element.
====

The `query` element has the following attributes:

[[entityClass]]
* `entityClass` (required) - full qualified name of entity class.

[[fetch-plan]]
* `fetchPlan` - optional attribute that specifies the fetch plan to be used for loading the queried entity.

[[escape-value-for-like]]
* `escapeValueForLike` - enables searching for the values that contain special symbols: `%`, `\`, etc. Default value is `false`.

[[search-string-format]]
* `searchStringFormat` - a Groovy string, thus you can use any valid Groovy-string expressions.

[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/suggestionfield/suggestionfield-screen.xml[tags=suggestion-query]
----

[[search-executor]]
=== SearchExecutor

If `query` is not defined, the list of options must be provided by `SearchExecutor`, assigned programmatically.

In the most common case, it is sufficient to set `SearchExecutor` to the component. `SearchExecutor` is a functional interface that contains a single method: `List<E> search(String searchString, Map<String, Object> searchParams)`.

`SearchExecutor` can return any types of options, for example, entities, strings, or enum values.

//[[search-executor-entities]]
//==== Entities
//Creating a list of options
//specify
//set
//Defining list of options

