= ComboBox

A `ComboBox` is a component to select a single item from a drop-down list with filtering. Items are filtered based on user input.

`ComboBox` combines a text field with a scrollable list.

Component's XML-name: `comboBox`.

== Basics

Use a `ComboBox` if:

* The user needs to select a single option.
* There are a large amount of options to choose from.
* The list should be compact. It can be handy when the list of options is too long for a `RadioButtonGroup` or a `SingleSelectList`.
* The user needs filtering functionality.

By default, Jmix Studio generates a `ComboBox` when creating an entity editor screen with an enum attribute. For example, a `Customer` entity has a `hobby` attribute of the `Hobby` type, which is an enumeration.

image::vcl/components/combo-box.png[align="center"]

In the following example, the screen defines the `customerDc` data container for the `Customer` entity having the `hobby` attribute. In the `comboBox` element, the `dataContainer` attribute contains a link to the `customerDc` data container, and the `property` attribute refers to the `hobby` entity attribute. In this case, the entity attribute is an enumeration, and the drop-down list displays localized names of all enumeration values.

[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/combobox/combobox-screen.xml[tags=basic]
----

[[custom-options]]
== Custom (Setting) Options
You can specify the list of `ComboBox` options using the `setOptionsList()`, `setOptionsMap()` and `setOptionsEnum()` methods.

* If you use the `setOptionsList()` method, the drop-down list displays results of `toString()` transformation of each option value.
+
First, declare a component in the XML descriptor:
+
[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/combobox/combobox-screen.xml[tags=options-list]
----
+
Then inject the component into the controller and specify a list of options in the `onInit()` method:
+
[source, java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/combobox/ComboBoxScreen.java[tags=options-list;options-list-2]
----
+
In the component’s drop-down list the values "Married", "Widowed", "Separated", "Divorced" and "Single" will be displayed. Selected status will be put into the `maritalStatus` attribute of an entity located in the `customerDc` data container.

* The `setOptionsMap()` method allows you to specify a string caption for each option value explicitly.
+
First, declare a component in the XML descriptor:
+
[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/combobox/combobox-screen.xml[tags=options-map]
----
+
Then inject the component into the controller and specify an options map in `onInit()`:
+
[source, java,indent=0]
----
include::example$/ex1/src/main/java/ui/ex1/screen/component/combobox/ComboBoxScreen.java[tags=options-map;options-map-2;options-map-3]
----
+
In the component’s drop-down "Poor", "Average", "Good", "Excellent" strings will be displayed. However, the value of the component will be a number that corresponds to the selected option. It will be put into the `rating` attribute of an entity located in the `orderDc` data container.

[[options-enum]]
* The `setOptionsEnum()` method takes the class of an enumeration as a parameter. The drop-down list will show localized names of enum values, the value of the component will be an enum value.
+
The simplest way to set options from the enum class is to use the `optionsEnum` attribute in the XML descriptor:
+
[source, xml,indent=0]
----
include::example$/ex1/src/main/resources/ui/ex1/screen/component/combobox/combobox-screen.xml[tags=options-enum]
----

[[filterMode]]
== Filtering Modes

A `ComboBox` supports filtering. The `filterMode` attribute sets the filtering type for the user input:

* `NO` - a `ComboBox` does not use a filter.
* `STARTS_WITH` - a `ComboBox` shows values which captions start with the entered text.
* `CONTAINS` - a `ComboBox` shows values which captions contain the entered text (is used by default).

[[paging]]
== Paging

A `ComboBox` supports a paging mechanism that helps to break a long list of items into multiple separate pages reducing load time and increasing performance. The number of pages is determined by the page size and the number of items in the drop-down list.

Use the `pageLength` attribute to set the number of items you wish to display per page.

Setting the `pageLength` to 0 will disable suggestion popup paging (all items are visible).

The default value is specified in the xref:app-properties.adoc#jmix.ui.comboBoxPageLength[jmix.ui.comboBoxPageLength] property.

== Setting Popup Width

Use the `setPopupWidth()` method to set the drop-down list’s width, which is passed to the method as a string. By using relative units (for example, `"50%"`) it’s possible to set the drop-down list’s width relative to the `ComboBox` itself. By default, this width is set to `null` so that the drop-down list’s width can be greater than a component width to fit the content of all displayed items. By setting the value to `"100%"` the drop-down list’s width will be equal to the width of the `ComboBox`.

== Handling User Input



== Using the IconProvider

== Using OptionsStyleProvider

[[xml]]
== All XML Attributes